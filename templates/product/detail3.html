{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}

{% block content %}

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Open+Sans">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<link rel="stylesheet" href="{% static 'css/detail.css' %}">
<link rel="stylesheet" href="{% static 'static/css/sidebars.css' %}">
<link rel="stylesheet" href="{% static 'static/css/style.css' %}">

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>


<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script>
    $(document).ready(function () {
        $(".wish-icon i").click(function () {
            $(this).toggleClass("fa-heart fa-heart-o");
        });
    });	
</script>

<script src="sidebars.js"></script>

<div class="container">
    <div class="row">
        <div class="col-md-6">
            <a href="{% url 'all_toys' %}" class="btn btn-light">Back</a>

            <div>
                <div>
                    <img src="{% static  product_object.image.url %}" style="margin-left: 20%;">
                </div>
                <div>
                    <p class="abc">
                        <strong>Name:</strong> {{ product_object.name }}
                        <br>
                        <strong>Brand:</strong> {{ product_object.brand }}
                        <br>
                        <strong>Age:</strong> {{ product_object.age }}
                        <br>
                        <strong>Image:</strong> {{ product_object.image }}
                        <br>
                        <strong>Category:</strong> {{ product_object.display_category }}
                        <br>
                        <strong>Description:</strong> {{ product_object.description }}
                    </p>
                </div>
            </div>
        </div>

        <!-- <div class="col-md-6">
            <div class="row">
                <div>
                    Add Comments ({{ num_comments }})
                        <br>
                        <hr>               
                        {% if not product_object.comments.all  %}
                            <div class="card-body">
                                <p>Not comments added yet...</p>
                            </div>
                        {% else %}
                            {% for comment in product_object.comments.all %}


                            <div class="container">
                                <div class="row">
                                    <div class="col-8">
                                        <div class="card card-white post">
                                            <div class="post-heading">
                                                {% if request.user.person.profile_pic.url %}
                                                <div class="row">
                                                    <div class="col float-left image">
                                                        <img src="{% static comment.commenter.person.profile_pic.url %}" alt="Placeholder image">
                                                    </div>
                                                    <div class="col">
                                                        <h6 class="mb-2 text-muted">{{ comment.commenter.username }}</h6>
                                                    </div>
                                                </div>
                                                {% else %}
                                                <div class="row">
                                                    <div class="float-left image">
                                                        <img src="http://bootdey.com/img/Content/user_1.jpg" class="img-circle avatar" alt="user profile image">
                                                    </div>
                                                </div>  
                                                {% endif %}
                                                <div class="float-left meta">
                                                    <div class="title h5" style="font-size: 14px;">
                                                        <a href="#"><b>{{ comment.commenter.username }}</b></a>
                                                        <p class="text-muted time" style="font-size: small;">{{ comment.date_added }}</p>
                                                    </div>
                                                   
                                                </div>
                                            </div> 
                                            <div class="post-description"> 
                                                <p>{{ comment.comment_body }}</p>
                                                {% if request.user.username == comment.commenter.username %}
                                                <a class="btn btn-light" href="{% url 'delete_comment' product_object.id %}">Delete Comment</a>
                                                {% endif %}

                                            </div>
                                        </div>
                                    </div>
                                    
                                </div>
                            </div>




                            <div class="col-md-16">
                                <div class="card">
                                  <div class="card-body">
                                    <p class="card-title">
                                        {% if request.user.person.profile_pic %}
                                            <div class="row">
                                                <div class="col">
                                                    <img src="{% static request.user.person.profile_pic.url %}" alt="Placeholder image">
                                                </div>
                                                <div class="col">
                                                    <h6 class="mb-2 text-muted">{{ comment.commenter.username }}</h6>
                                                </div>
                                            </div>
                                        {% else %}
                                        <div class="row">
                                            <div class="col">  
                                                <h6 class="mb-2 text-muted">{{ comment.commenter.username }}</h6>
                                            </div>
                                        </div>                                  
                                        {% endif %} 
                                    </p>
                                    <p class="card-text">
                                        <div class="row">
                                            <div class="col">
                                                <p>{{ comment.comment_body }}</p>
                                            </div>
                                            <div class="col">
                                                <p style="font-size: smaller;">{{ comment.date_added }}</p>
                                            </div>
                                            
                                        </div>
                                        <div class="row">
                                            {% if request.user.username == comment.commenter.username %}
                                                <a class="btn btn-light" href="{% url 'delete_comment' product_object.id %}">Delete Comment</a>
                                            {% endif %}
                                        </div>
                                        
                                    </p>
                                    
                                  </div>
                                </div>
                            </div>


                            <div class="card" style="width: 24rem;">
                                <p class="card-title">
                                    {% if request.user.person.profile_pic %}
                                        <img src="{% static request.user.person.profile_pic.url %}" alt="Placeholder image">
                                    {% else %}
                                        <img src="{% static 'images/toybox.jpeg' %}" alt="Placeholder image">                                      
                                    {% endif %} 
                                </p>
                                <h6 class="card-subtitle mb-2 text-muted">{{ comment.commenter.username }}</h6>
                                <div class="card-body">
                                    <p>
                                        {{ comment.comment_body }}
                                        <br>    
                                        {% if request.user.username == comment.commenter.username %}
                                            <a class="btn btn-light" href="{% url 'delete_comment' product_object.id %}">Delete Comment</a>
                                        {% endif %}
                                    </p>
                                    <p><small>{{ comment.date_added }}</small></p>
                                </div>
                            </div>
                            {% endfor %}
                        {% endif %}

                        {% if request.user.is_authenticated or request.user.is_staff%}
                            <p><a class="btn btn-dark" href="{% url 'add_comment' product_object.id %}">Add Comment</a></p>
                        {% endif %}
                </div>
            </div>
        </div> -->

        <div class="col-md-6">
            <div style="margin: 10px;">
                <div class="form-group">
                    <h6><strong>Create a Request for {{ product_object.name }}</strong></h6>

                    <h2>Choose the Toy you <b>want to trade</b></h2>

                    <ul class="list-unstyled components">
                        <form action="" method="POST">
                            {% csrf_token %}

                            {% for field in form.visible_fields %}
                            <div class="form-group">
                                <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                                {{ field|add_class:'form-control' }}
                                {% for error in field.errors %}
                                <span class="help-block">{{ error }}</span>
                                {% endfor %}
                            </div>
                            {% endfor %}

                            <!-- <br>
                        <h2>Choose the Toy you want to trade</h2>
                        <div class="form-group">
                            <label for="sended_toy">Sender Toy</label>
                            <select id='toy_select' name="sended_toy" class="form-control">x
                            <script type='text/javascript'>
                            // var values=[[1,'tree'],[2,'flower'],[3,'car']];
                            for(v in sender_toy){
                                var option=$('<option></option>');
                                option.attr('value',values[v][0]);
                                option.text(values[v][1]);
                                $('#sended_toy').append(option);
                            }
                            </script>
                            </select>
                        </div> -->

                            <div class="form-group">
                                <label for="sender_toy">Your Toy to Trade</label>
                                <select id="sender_toy" name="sender_toy" class="form-control">
                                    <option value="0">
                                        -- SELECT --
                                    </option>
                                    {% for send_toy in sender_toy %}
                                    <option value="{{ send_toy.id }}">
                                        {{ send_toy.id }}
                                    </option>
                                    {% endfor %}
                                </select>
                            </div>

                            <!-- <div class="form-group">
                            <input class="form-check-input" type="checkbox" value="" id="{{ product_object.id }}}">
                            <label class="form-check-label" for="defaultCheck1">
                              {{ product_object.name }}
                            </label>
                        </div>
                        
                        {% for i in sender_toy %}
                            <div class="form-group">
                                <input class="form-check-input" type="checkbox" value="" id="{{ i.id }}}">
                                <label class="form-check-label" for="defaultCheck1">
                                {{ i.name }}
                                </label>
                            </div>
                        {% endfor %} -->

                            <br>
                            <div class="form-group">
                                <button type="submit" class="btn btn-light"
                                    style="background: #536bf6 !important; color: whitesmoke;">
                                    <span class="glyphicon glyphicon-ok"></span> Request
                                </button>
                            </div>
                        </form>
                </div>

            </div>
        </div>

        <div class="col-md-6">
            <div>
                <div style="margin: 10px;">
                    Add Comments ({{ num_comments }})
                    <br>
                    <hr>
                    {% if not product_object.comments.all %}
                    <div class="card-body">
                        <p>Not comments added yet...</p>
                    </div>
                    {% else %}
                    {% for comment in product_object.comments.all %}
                    <div class="card-body">
                        <div class="row">
                            <div class="col">
                                <p class="image is-32x32">
                                    {% if request.user.person.profile_pic %}
                                    <img src="{% static request.user.person.profile_pic.url %}" alt="Placeholder image">
                                    {% else %}
                                    <img src="{% static 'images/toybox.jpeg' %}" alt="Placeholder image">
                                    {% endif %}
                                </p>
                            </div>
                            <div class="col-md-6">
                                <h5><strong>{{ comment.commenter.username }}</strong> </h5>
                            </div>
                            <p>
                                {{ comment.comment_body }}
                                <br>
                                {% if request.user.username == comment.commenter.username %}
                                <a class="btn btn-light" href="{% url 'delete_comment' product_object.id %}">Delete
                                    Comment</a>
                                {% endif %}
                            </p>
                            <p><small>{{ comment.date_added }}</small></p>
                        </div>

                    </div>
                    {% endfor %}
                    {% endif %}

                    {% if request.user.is_authenticated or request.user.is_staff%}
                    <p><a class="btn btn-light" href="{% url 'add_comment' product_object.id %}"
                            style="background-color: #536bf6; color: whitesmoke;">Add Comment</a></p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>


<div class="row justify-content-center">
    <div class="col-12 col-md-8">
        <h2>Similar <b>Products</b></h2>
        <div id="myCarousel" class="carousel slide" data-ride="carousel" data-interval="0">
            <!-- Carousel indicators -->
            <ol class="carousel-indicators">
                <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                <li data-target="#myCarousel" data-slide-to="1"></li>
                <li data-target="#myCarousel" data-slide-to="2"></li>
            </ol>
            <!-- Wrapper for carousel items -->
            <div class="carousel-inner">
                <div class="item carousel-item active">
                    <div class="row">
                        <div class="col-sm-3">
                            <div class="thumb-wrapper">
                                <span class="wish-icon"><i class="fa fa-heart-o"></i></span>
                                <div class="img-box">
                                    <img src="/examples/images/products/ipad.jpg" class="img-fluid" alt="">
                                </div>
                                <div class="thumb-content">
                                    <h4>Apple iPad</h4>
                                    <div class="star-rating">
                                        <ul class="list-inline">
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star-o"></i></li>
                                        </ul>
                                    </div>
                                    <p class="item-price"><strong>$400.00</strong> <b>$369.00</b></p>
                                    <a href="#" class="btn btn-primary">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="thumb-wrapper">
                                <span class="wish-icon"><i class="fa fa-heart-o"></i></span>
                                <div class="img-box">
                                    <img src="/examples/images/products/headphone.jpg" class="img-fluid"
                                        alt="Headphone">
                                </div>
                                <div class="thumb-content">
                                    <h4>Sony Headphone</h4>
                                    <div class="star-rating">
                                        <ul class="list-inline">
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star-o"></i></li>
                                        </ul>
                                    </div>
                                    <p class="item-price"><strong>$25.00</strong> <b>$23.99</b></p>
                                    <a href="#" class="btn btn-primary">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="thumb-wrapper">
                                <span class="wish-icon"><i class="fa fa-heart-o"></i></span>
                                <div class="img-box">
                                    <img src="/examples/images/products/macbook-air.jpg" class="img-fluid"
                                        alt="Macbook">
                                </div>
                                <div class="thumb-content">
                                    <h4>Macbook Air</h4>
                                    <div class="star-rating">
                                        <ul class="list-inline">
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star-half-o"></i></li>
                                        </ul>
                                    </div>
                                    <p class="item-price"><strong>$899.00</strong> <b>$649.00</b></p>
                                    <a href="#" class="btn btn-primary">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="thumb-wrapper">
                                <span class="wish-icon"><i class="fa fa-heart-o"></i></span>
                                <div class="img-box">
                                    <img src="/examples/images/products/nikon.jpg" class="img-fluid" alt="Nikon">
                                </div>
                                <div class="thumb-content">
                                    <h4>Nikon DSLR</h4>
                                    <div class="star-rating">
                                        <ul class="list-inline">
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star-o"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star-o"></i></li>
                                        </ul>
                                    </div>
                                    <p class="item-price"><strong>$315.00</strong> <b>$250.00</b></p>
                                    <a href="#" class="btn btn-primary">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="item carousel-item">
                    <div class="row">
                        <div class="col-sm-3">
                            <div class="thumb-wrapper">
                                <span class="wish-icon"><i class="fa fa-heart-o"></i></span>
                                <div class="img-box">
                                    <img src="/examples/images/products/play-station.jpg" class="img-fluid"
                                        alt="Play Station">
                                </div>
                                <div class="thumb-content">
                                    <h4>Sony Play Station</h4>
                                    <p class="item-price">
                                        <stristrongke>$289.00</strong> <span>$269.00</span>
                                    </p>
                                    <div class="star-rating">
                                        <ul class="list-inline">
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star-o"></i></li>
                                        </ul>
                                    </div>
                                    <a href="#" class="btn btn-primary">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="thumb-wrapper">
                                <span class="wish-icon"><i class="fa fa-heart-o"></i></span>
                                <div class="img-box">
                                    <img src="/examples/images/products/macbook-pro.jpg" class="img-fluid"
                                        alt="Macbook">
                                </div>
                                <div class="thumb-content">
                                    <h4>Macbook Pro</h4>
                                    <p class="item-price"><strong>$1099.00</strong> <span>$869.00</span></p>
                                    <div class="star-rating">
                                        <ul class="list-inline">
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star-half-o"></i></li>
                                        </ul>
                                    </div>
                                    <a href="#" class="btn btn-primary">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="thumb-wrapper">
                                <span class="wish-icon"><i class="fa fa-heart-o"></i></span>
                                <div class="img-box">
                                    <img src="/examples/images/products/speaker.jpg" class="img-fluid" alt="Speaker">
                                </div>
                                <div class="thumb-content">
                                    <h4>Bose Speaker</h4>
                                    <p class="item-price"><strong>$109.00</strong> <span>$99.00</span></p>
                                    <div class="star-rating">
                                        <ul class="list-inline">
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star-o"></i></li>
                                        </ul>
                                    </div>
                                    <a href="#" class="btn btn-primary">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="thumb-wrapper">
                                <span class="wish-icon"><i class="fa fa-heart-o"></i></span>
                                <div class="img-box">
                                    <img src="/examples/images/products/galaxy.jpg" class="img-fluid" alt="Galaxy">
                                </div>
                                <div class="thumb-content">
                                    <h4>Samsung Galaxy S8</h4>
                                    <p class="item-price"><strong>$599.00</strong> <span>$569.00</span></p>
                                    <div class="star-rating">
                                        <ul class="list-inline">
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star-o"></i></li>
                                        </ul>
                                    </div>
                                    <a href="#" class="btn btn-primary">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="item carousel-item">
                    <div class="row">
                        <div class="col-sm-3">
                            <div class="thumb-wrapper">
                                <span class="wish-icon"><i class="fa fa-heart-o"></i></span>
                                <div class="img-box">
                                    <img src="/examples/images/products/iphone.jpg" class="img-fluid" alt="iPhone">
                                </div>
                                <div class="thumb-content">
                                    <h4>Apple iPhone</h4>
                                    <p class="item-price"><strong>$369.00</strong> <span>$349.00</span></p>
                                    <div class="star-rating">
                                        <ul class="list-inline">
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star-o"></i></li>
                                        </ul>
                                    </div>
                                    <a href="#" class="btn btn-primary">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="thumb-wrapper">
                                <span class="wish-icon"><i class="fa fa-heart-o"></i></span>
                                <div class="img-box">
                                    <img src="/examples/images/products/canon.jpg" class="img-fluid" alt="Canon">
                                </div>
                                <div class="thumb-content">
                                    <h4>Canon DSLR</h4>
                                    <p class="item-price"><strong>$315.00</strong> <span>$250.00</span></p>
                                    <div class="star-rating">
                                        <ul class="list-inline">
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star-o"></i></li>
                                        </ul>
                                    </div>
                                    <a href="#" class="btn btn-primary">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="thumb-wrapper">
                                <span class="wish-icon"><i class="fa fa-heart-o"></i></span>
                                <div class="img-box">
                                    <img src="/examples/images/products/pixel.jpg" class="img-fluid" alt="Pixel">
                                </div>
                                <div class="thumb-content">
                                    <h4>Google Pixel</h4>
                                    <p class="item-price"><strong>$450.00</strong> <span>$418.00</span></p>
                                    <div class="star-rating">
                                        <ul class="list-inline">
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star-half-o"></i></li>
                                        </ul>
                                    </div>
                                    <a href="#" class="btn btn-primary">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="thumb-wrapper">
                                <span class="wish-icon"><i class="fa fa-heart-o"></i></span>
                                <div class="img-box">
                                    <img src="/examples/images/products/watch.jpg" class="img-fluid" alt="Watch">
                                </div>
                                <div class="thumb-content">
                                    <h4>Apple Watch</h4>
                                    <p class="item-price"><strong>$350.00</strong> <span>$330.00</span></p>
                                    <div class="star-rating">
                                        <ul class="list-inline">
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                            <li class="list-inline-item"><i class="fa fa-star-o"></i></li>
                                        </ul>
                                    </div>
                                    <a href="#" class="btn btn-primary">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Carousel controls -->
            <a class="carousel-control-prev" href="#myCarousel" data-slide="prev">
                <i class="fa fa-angle-left"></i>
            </a>
            <a class="carousel-control-next" href="#myCarousel" data-slide="next">
                <i class="fa fa-angle-right"></i>
            </a>
        </div>
    </div>


</div>

</div>
{% endblock %}